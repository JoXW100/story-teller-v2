{
    "editor": {
        "type": "root",
        "content": [
            {
                "type": "group",
                "params": { "label": "Metadata", "open": true },
                "content": [
                    { 
                        "type": "text", 
                        "params": { "label": "Name", "key": "name", "default": "Spell name" }
                    },
                    { 
                        "type": "boolean", 
                        "params": { "label": "Publish", "key": "public", "viewURL": true }
                    },
                    { 
                        "type": "number", 
                        "params": { "label": "Level", "key": "level", "default": 1 }
                    },
                    { 
                        "type": "enum", 
                        "params": { "label": "School", "key": "school", "type": "magicSchool", "default": "abjuration" }
                    },
                    { 
                        "type": "enum", 
                        "params": { "label": "Casting Time", "key": "time", "type": "castingTime", "default": "action" }
                    },
                    { 
                        "type": "text", 
                        "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "time" }, "custom"] }],
                        "params": { "label": "Time", "key": "timeCustom" }
                    },
                    { 
                        "type": "number", 
                        "conditions": [{ "type": "notEquals", "value": [{ "type": "metadata", "value": "time" }, "custom"] }],
                        "params": { "label": "Time Value", "key": "timeValue", "default": 1 }
                    },
                    { 
                        "type": "boolean", 
                        "params": { "label": "Ritual", "key": "ritual", "default": false }
                    },
                    { 
                        "type": "enum", 
                        "params": { "label": "Duration", "key": "duration", "type": "duration", "default": "instantaneous" }
                    },
                    { 
                        "type": "number", 
                        "conditions": [{ "type": "notEquals", "value": [{ "type": "metadata", "value": "duration" }, "instantaneous"] }],
                        "params": { "label": "Duration Value", "key": "durationValue", "default": 1 }
                    },
                    { 
                        "type": "boolean", 
                        "conditions": [{ "type": "notEquals", "value": [{ "type": "metadata", "value": "duration" }, "instantaneous"] }],
                        "params": { "label": "Concentration", "key": "concentration", "default": false }
                    },
                    { 
                        "type": "boolean", 
                        "params": { "label": "Verbal", "key": "componentVerbal", "default": false }
                    },
                    { 
                        "type": "boolean", 
                        "params": { "label": "Somatic", "key": "componentSomatic", "default": false }
                    },
                    { 
                        "type": "boolean", 
                        "params": { "label": "Material", "key": "componentMaterial", "default": false }
                    },
                    { 
                        "type": "text", 
                        "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "componentMaterial" }, true] }],
                        "params": { "label": "Materials", "key": "materials" }
                    },
                    {
                        "type": "group",
                        "params": { "label": "Effect", "open": true },
                        "content": [
                            { 
                                "type": "enum", 
                                "params": { "label": "Condition", "key": "condition", "type": "effectCondition", "default": "hit" }
                            },
                            { 
                                "type": "enum", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "condition" }, "save"] }],
                                "params": { "label": "Save Attribute", "key": "saveAttr", "type": "attr", "default": "str" }
                            },
                            { 
                                "type": "enum", 
                                "params": { "label": "Damage Type", "key": "damageType", "type": "damageType", "default": "none" }
                            },
                            {
                                "type": "enum",
                                "params": { "label": "Target", "key": "target", "type": "target", "default": "none" }
                            },
                            { 
                                "type": "number", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "target" }, { "type": "any", "value": ["single", "point"] } ] }],
                                "params": { "label": "Range", "key": "range" }
                            },
                            {
                                "type": "enum",
                                "params": { "label": "Area", "key": "area", "type": "area", "default": "none" }
                            },
                            { 
                                "type": "number", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "area" }, "cone"] }],
                                "params": { "label": "Cone Size (ft)", "key": "areaSize" }
                            },
                            { 
                                "type": "number", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "area" }, "cube"] }],
                                "params": { "label": "Side Length (ft)", "key": "areaSize" }
                            },
                            { 
                                "type": "number", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "area" }, { "type": "any", "value": ["cylinder", "sphere"] }] }],
                                "params": { "label": "Radius (ft)", "key": "areaSize" }
                            },
                            { 
                                "type": "number", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "area" }, "cylinder"] }],
                                "params": { "label": "Height (ft)", "key": "areaHeight" }
                            },
                            { 
                                "type": "number", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "area" }, "line"] }],
                                "params": { "label": "Width (ft)", "key": "areaSize" }
                            },
                            { 
                                "type": "number", 
                                "conditions": [
                                    { "type": "equals", "value": [{ "type": "metadata", "value": "type" }, { "type": "any", "value": ["rangedAttack", "rangedWeapon"] }] },
                                    { "type": "equals", "value": [{ "type": "metadata", "value": "target" }, "single"] }
                                ],
                                "params": { "label": "Range (Long)", "key": "rangeLong" }
                            },
                            { 
                                "type": "text", 
                                "conditions": [{ "type": "equals", "value": [{ "type": "metadata", "value": "damageType" }, "none"] }],
                                "params": { "label": "Effect", "key": "effectText" }
                            },
                            {
                                "type": "group",
                                "params": { "label": "Condition Roll", "open": true },
                                "conditions": [{ "type": "notEquals", "value": [{ "type": "metadata", "value": "condition" }, "none"] }],
                                "content": [
                                    { 
                                        "type": "enum", 
                                        "params": { "label": "Scaling", "key": "conditionScaling", "type": "scaling", "default": "spellMod" }
                                    },
                                    { 
                                        "type": "boolean", 
                                        "params": { "label": "Proficiency", "key": "conditionProficiency", "default": true }
                                    },
                                    { 
                                        "type": "option", 
                                        "params": { "label": "Modifier", "key": "conditionModifier", "type": "number" }
                                    }
                                ]
                            },
                            {
                                "type": "group",
                                "params": { "label": "Effect Roll", "open": true },
                                "conditions": [{ "type": "notEquals", "value": [{ "type": "metadata", "value": "damageType" },  { "type": "any", "value": ["none", "null"] }] }],
                                "content": [
                                    { 
                                        "type": "enum", 
                                        "params": { "label": "Scaling", "key": "effectScaling", "type": "scaling", "default": "none" }
                                    },
                                    { 
                                        "type": "boolean", 
                                        "params": { "label": "Proficiency", "key": "effectProficiency", "default": false }
                                    },
                                    { 
                                        "type": "option", 
                                        "params": { "label": "Modifier", "key": "effectModifier", "type": "number" }
                                    },
                                    { 
                                        "type": "enum", 
                                        "params": { "label": "Dice", "key": "effectDice", "type": "dice", "default": 0 }
                                    },
                                    { 
                                        "type": "number", 
                                        "conditions": [{ "type": "notEquals", "value": [{ "type": "metadata", "value": "effectDice" }, { "type": "any", "value": [0, null] }] }],
                                        "params": { "label": "Num Dice", "key": "effectDiceNum" }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "type": "group",
                "params": { "label": "Content", "open": true, "fill": true },
                "content": [
                    {
                        "type": "textarea",
                        "params": { "label": "Description", "key": "description", "fill": true  }
                    }
                ]
            }
        ]
    },
    "renderer": { "type": "spe" }
}